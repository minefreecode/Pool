# Пул обработчиков

Шаблон Worker Pools поддерживает фиксированное количество рабочих, которые обрабатывают задания из общей очереди. Этот
шаблон необходим для контроля использования ресурсов, обработки пиковых нагрузок и обеспечения предсказуемой
производительности в параллельных системах.

Алгоритм:
1. Описываются константы сколько обработчиков и джобов
2. Инициализируются канал джобов и канал результатов
```go
   jobs := make(chan int, numJobs)
   results := make(chan string, numJobs)
```
3. Инициализируется ``var wg sync.WaitGroup`` и в цикле добавляется счётчик ``wg.Add(1)`` и запускается горутина
``go workerPool(i, jobs, results, &wg)``
4. Функция горутины следующего вида ``func workerPool(id int, jobs <-chan int, results chan<- string, wg *sync.WaitGroup) {``,
где `jobs` - это приходящие джобы, `results` -выходные результаты, `wg` - для управления счётчиком активных горутин.
В функии проиходит обработка переданных джобов на канал `jobs` в потоковом режиме, когда заранее неизвестно сколько будет приходить
джобов. И результаты обработки заносятся в другой канал ``results`` также в потоковом режиме.
5. В `main()` реализована потоковая отправка таким образом:
В горутине происходит цикл с отправкой `jobs <- i` и это сразу же передаётся на обработчик. До цикла имеется вызов 
``defer close(jobs)`` который нужен для оповещения что больше не будет отправляться джобов и обработчики могут завершить
свою работу. Имеется горутина и ожидания когда обработчики завершат свою работу. Таким образом закрываются 2 канала
поочередно и зактытие одного канала способствует закрытию другого канала


